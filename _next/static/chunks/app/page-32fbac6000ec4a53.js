(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4221:function(e,t,r){Promise.resolve().then(r.bind(r,9005))},6961:function(e,t,r){"use strict";r.d(t,{x:function(){return l}});var a=r(7437);let l=e=>{let{color:t}=e;return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 600 600",children:(0,a.jsx)("path",{d:"M522.612 78.071a34.91 34.91 0 0 0-49.385 0l-172.8 172.8-172.8-172.8A34.91 34.91 0 1 0 78.29 127.41l172.8 172.8-172.8 172.8a34.91 34.91 0 1 0 49.338 49.385l172.8-172.8 172.8 172.8c6.82 6.82 15.756 10.217 24.67 10.217a34.91 34.91 0 0 0 24.692-59.578l-172.777-172.8 172.8-172.824a34.91 34.91 0 0 0 0-49.338",fill:t,className:"transition-colors"})})}},9005:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return D}});var a=r(7437),l=r(2265);let s=e=>{let{setValue:t,className:r="",...l}=e;return(0,a.jsx)("input",{...l,onChange:e=>t(e.target.value),className:"".concat(r," py-2 px-3 border bg-transparent border-gray-600 placeholder-gray-500 focus:border-gray-500 transition-colors rounded-lg outline-none")})};class i{static getRandomHsl(){return"hsl(".concat(Math.floor(360*Math.random()),", ").concat(Math.floor(30*Math.random()+40),"%, ").concat(Math.floor(30*Math.random()+60),"%)")}}class n{static countOccurances(e,t){let r=e.reduce((e,r)=>t(r)?++e:e,0);return r}}class o{static getUniqueId(e,t){let r=this.getInitials(t),a=n.countOccurances(e,e=>e.startsWith(r));if(a){let e="+".repeat(a);r+=e}return r}static getInitials(e){let t=e.split(/\s+/),r=t.map(e=>{let t=e[0];return/[A-Za-z0-9]/.test(t)?t.toLowerCase():""});return r.join("")}}let c=(0,l.createContext)({mappings:[],mapTask:()=>{},unmapTask:()=>{},removeTaskMapping:()=>{},removeCategoryMapping:()=>{}}),d=e=>{let{children:t}=e,[r,s]=(0,l.useState)([]);return(0,a.jsx)(c.Provider,{value:{mappings:r,mapTask:(e,t)=>{let a=r.find(r=>r.task===e&&r.category===t);a||s(r=>[...r,{task:e,category:t}])},unmapTask:(e,t)=>{let a=r.filter(r=>r.task!==e||r.category!==t);s(a)},removeTaskMapping:e=>{let t=r.filter(t=>t.task!==e);s(t)},removeCategoryMapping:e=>{let t=r.filter(t=>t.category!==e);s(t)}},children:t})},u=()=>(0,l.useContext)(c),x=(0,l.createContext)({categories:[],addCategory:()=>{},removeCategory:()=>{},initialize:()=>{}}),g=e=>{let{children:t}=e,{removeCategoryMapping:r}=u(),[s,n]=(0,l.useState)([]),c=e=>{let t=s.find(t=>t.title.toLowerCase()===e.toLowerCase());if(t)return;let r=s.map(e=>e.id),a=o.getUniqueId(r,e),l=i.getRandomHsl();n(t=>[...t,{id:a,title:e,color:l}])};return(0,a.jsx)(x.Provider,{value:{categories:s,addCategory:c,removeCategory:e=>{let t=s.filter(t=>t.id.toLowerCase()!==e.toLowerCase());n(t),r(e)},initialize:()=>{c("Makes me money"),c("It's Fun / Cool"),c("Helps me grow"),c("Helps others")}},children:t})},p=()=>(0,l.useContext)(x),m=e=>{let{text:t,type:r,className:l}=e;return(0,a.jsx)("button",{type:r,className:"".concat(l," py-2 px-3 bg-gray-700 text-gray-400 hover:opacity-75 active:opacity-50 transition-all rounded-lg outline-none"),children:t})},h=()=>{let{addCategory:e,initialize:t,categories:r}=p(),[i,n]=(0,l.useState)(""),o=(0,l.useRef)(!1);return(0,l.useEffect)(()=>{r.length||o.current||(t(),o.current=!0)},[]),(0,a.jsx)("div",{children:(0,a.jsxs)("form",{onSubmit:t=>{t.preventDefault();let r=i.trim();r.length&&(e(r),n(""))},className:"flex gap-2",children:[(0,a.jsx)(s,{name:"category title",type:"text",value:i,setValue:n,placeholder:"Add a category",className:"w-full"}),(0,a.jsx)(m,{text:"Add",type:"submit"})]})})};var v=r(3385);let f=e=>{let{children:t}=e,{mapTask:r}=u(),l=(0,v.Dy)((0,v.VT)(v.we,{activationConstraint:{distance:8}}));return(0,a.jsx)(v.LB,{onDragEnd:e=>{e.over&&r(String(e.active.id),String(e.over.id))},sensors:l,children:t})},j=e=>{let{children:t,id:r}=e,{isOver:l,setNodeRef:s}=(0,v.Zj)({id:r});return(0,a.jsx)("div",{ref:s,className:"w-full h-full transition-colors"+(l?" bg-gray-600":""),children:(0,a.jsx)("div",{children:t})})},y=(0,l.createContext)({tasks:[],addTask:()=>{},removeTask:()=>{}}),k=e=>{let{children:t}=e,{removeTaskMapping:r}=u(),[s,i]=(0,l.useState)([]);return(0,a.jsx)(y.Provider,{value:{tasks:s,addTask:e=>{let t=s.find(t=>t.title.toLowerCase()===e.toLowerCase());if(t)return;let r=s.map(e=>e.id),a=o.getUniqueId(r,e);i(t=>[...t,{id:a,title:e}])},removeTask:e=>{let t=s.filter(t=>t.id.toLowerCase()!==e.toLowerCase());i(t),r(e)}},children:t})},w=()=>(0,l.useContext)(y),C=e=>{let{task:t,clickHandler:r,isDisabled:l=!1}=e;return(0,a.jsx)("li",{className:"my-1 py-1 px-4 rounded-lg select-none w-fit list-none transition-colors border "+(l?" bg-gray-800 border-gray-700 text-gray-400 cursor-not-allowed":" bg-gray-700 border-transparent hover:bg-gray-600 cursor-pointer"),onClick:r,title:l?"This task has appeared in all categories.":void 0,children:t.title})};var b=r(6961);let N=e=>{let{category:t}=e,{removeCategory:r}=p(),{mappings:l,unmapTask:s}=u(),{tasks:i}=w(),n=l.filter(e=>e.category===t.id).map(e=>e.task),o=i.filter(e=>n.includes(e.id)),c=e=>{s(e.id,t.id)};return(0,a.jsx)("div",{className:"relative rounded-lg flex overflow-hidden",style:{border:"2px solid ".concat(t.color)},children:(0,a.jsx)(j,{id:t.id,children:(0,a.jsxs)("div",{className:"mt-10 mx-4",children:[(0,a.jsxs)("div",{className:"absolute top-0 left-0 text-gray-800 pl-2 pr-3 rounded-br-lg flex items-center gap-2",style:{backgroundColor:t.color},children:[(0,a.jsx)("span",{className:"block cursor-pointer select-none w-4 h-4 text-gray-800 hover:text-red-600",onClick:()=>r(t.id),children:(0,a.jsx)(b.x,{color:"currentColor"})}),(0,a.jsx)("div",{children:t.title})]}),(0,a.jsx)("div",{children:o.map(e=>(0,a.jsx)(C,{task:e,clickHandler:()=>c(e)},e.id))})]})})})},M=()=>{let{categories:e}=p();return(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2",children:e.map((e,t)=>(0,a.jsx)(N,{category:e},e.title+t))})},T=()=>{let{addTask:e}=w(),[t,r]=(0,l.useState)("");return(0,a.jsx)("div",{children:(0,a.jsxs)("form",{onSubmit:a=>{a.preventDefault();let l=t.trim();l.length&&(e(l),r(""))},className:"flex gap-2",children:[(0,a.jsx)(s,{name:"task title",type:"text",value:t,setValue:r,placeholder:"Add a task",className:"w-full"}),(0,a.jsx)(m,{text:"Add",type:"submit"})]})})},L=e=>{let{children:t,id:r,isDisabled:l}=e,{attributes:s,listeners:i,setNodeRef:n,transform:o}=(0,v.O1)({id:r,disabled:l}),c=o?{transform:"translate3d(".concat(o.x,"px, ").concat(o.y,"px, 0)")}:void 0;return(0,a.jsx)("div",{style:c,ref:n,...i,...s,className:"relative z-50 w-fit",children:(0,a.jsx)("div",{children:t})})},S=e=>{let{task:t}=e,{removeTask:r}=w(),{mappings:l}=u(),{categories:s}=p(),i=s.map(e=>e.id),n=l.filter(e=>e.task===t.id).map(e=>e.category),o=i.map(e=>n.includes(e)),c=o.every(e=>!!e);return(0,a.jsx)(L,{id:t.id,isDisabled:c,children:(0,a.jsxs)("div",{className:"flex items-center group",children:[(0,a.jsx)(C,{task:t,isDisabled:c}),(0,a.jsx)("div",{className:"text-gray-300 h-3 w-3 ml-2 hidden group-hover:block group-active:opacity-0 hover:text-red-500",onClick:()=>{r(t.id)},children:(0,a.jsx)(b.x,{color:"currentColor"})})]})})},_=()=>{let{tasks:e}=w();return(0,a.jsx)("div",{children:(0,a.jsx)("ul",{className:"mt-2",children:e.map(e=>(0,a.jsx)(S,{task:e},e.id))})})},A=e=>{let{children:t}=e;return(0,a.jsx)(d,{children:(0,a.jsx)(k,{children:(0,a.jsx)(g,{children:t})})})};function D(){return(0,a.jsx)(A,{children:(0,a.jsx)(f,{children:(0,a.jsxs)("main",{className:"max-w-7xl w-full mx-auto grid grid-cols-[1fr_3fr] py-4 gap-y-6 gap-x-8 flex-grow",children:[(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsxs)("div",{className:"flex-grow",children:[(0,a.jsx)(T,{}),(0,a.jsx)(_,{})]}),(0,a.jsx)(h,{})]}),(0,a.jsx)(M,{})]})})})}}},function(e){e.O(0,[665,971,864,744],function(){return e(e.s=4221)}),_N_E=e.O()}]);